\documentclass[a4paper,12pt]{article}
\usepackage[koi8-r]{inputenc}
\usepackage[russian]{babel}
\usepackage{hyperref}
\usepackage{mathtext}
\usepackage[T2A]{fontenc}
\usepackage{array}
\usepackage{tabularx}
\usepackage{longtable}
\usepackage[justification=centering,labelsep=period]{caption}
\usepackage{indentfirst}
\usepackage[pdftex]{graphicx,color}
\usepackage{textcomp}
\usepackage{gnuplot-lua-tikz}
\usepackage{tikz}
\usepackage[europeanresistors,americaninductors]{circuitikz}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage[top=20mm,bottom=20mm,left=20mm,right=20mm]{geometry}



% \renewcommand{\captionlabeldelim} {.}

\makeatletter
\renewcommand\@biblabel[1]{#1.}
\makeatother

\unitlength=1mm

\usepackage{listings} %% собственно, это и есть пакет listings
% \usepackage{caption}
\DeclareCaptionFont{white}{\color{white}} %% это сделает текст заголовка белым
%% код ниже нарисует серую рамочку вокруг заголовка кода.
\DeclareCaptionFormat{listing}{\colorbox{white}{\parbox{\textwidth}{#1#2#3}}}
% \captionsetup[lstlisting]{format=listing,labelfont=black,textfont=black}
\renewcommand{\lstlistingname}{Листинг}


\begin{document}
 
\title{Руководство по применению openSUSE13.1 для выполнения семинаров и
лабораторных работ в системах GNU/Octave и Qucs}
\author{Кузнецов В.В., ассистент кафедры ЭИУ1-КФ}
\maketitle

Данное руководство описывает установку комплекта ПО для выполнения семинаров по
курсу ОЦОС, лабораторных работ по курсу РТУиС в ОС openSUSE Linux 13.1 на
виртуальную машину VirtualBox. Описывается установка Octave, Gnuplot и Qucs.

\section{Установка openSUSE}

\subsection{Необходимое ПО}

Виртуальная машина (VM) эмулирует компьютер целиком. В такой компьютер можно
устанавливать любую ОС, как будто это чистый компьютер. Для установки
понадобится виртуальная машина VirtualBox или VMWare. Обе виртуальные машины
распространяются бесплатно и их можно загрузить с сайта разработчика. Скачать
VitualBox можно по следующей ссылке
\url{https://www.virtualbox.org/wiki/Downloads}. Установка VirtualBox
особенностей не имеет. 

Понадобится дистрибутив openSUSE13.1 (4.7 Gb DVD). Его можно получить по
следующей ссылке \url{http://software.opensuse.org/131/ru}. Для 32-разрядной
хостовой ОС нужен 32-разрядный дистрибутив, а для 64-разрядной --- 64-разрядный
дистрибутив. Можно установить openSUSE не только в виртуальную машину,
но и второй системой параллельно Windows на физический компьютер. 

\subsection{Создание виртуальной машины (VM)}

После установки VirtualBox нужно создать новую виртуальную машину. Указываем
объём виртуальной оперативной памяти не менее 1 Гб (лучше 2 Гб). Объём
виртуального жёсткого диска --- не менее 20 Гб. В качестве виртуального CD-ROM
указываем образ DVD openSUSE, который мы скачали (рис. \ref{img}). Подключаем
виртуальную звуковую карту, контроллер USB, в качестве гостевой ОС выбираем
openSUSE (рис.\ref{guest}). Виртуальной машине будет нужно соединение с
интернетом. Поэтому включаем виртуальную сетевую карту. Лучше всего задать тип
подключения \verb|Сетевой мост|. В данном случае виртуальная машина получит
настоящий IP-адрес от роутера, к которому подключен хостовый ПК.

\newpage

\begin{figure}[!ht]
\begin{center}
\includegraphics[width=0.75\textwidth]{vbox-image.png}
\end{center}
\caption{Указание образа диска в качестве виртуального CD-ROM}\label{img}
\end{figure}

\begin{figure}[!ht]
\begin{center}
\includegraphics[width=0.75\textwidth]{vbox-guest.png}
\end{center}
\caption{Указание типа гостевой ОС}\label{guest}
\end{figure}

Теперь VM готова к установке ОС. Запускаем VM переходим к следующему разделу.

% \newpage

\subsection{Установка ОС}

По мере загрузки VM на её виртуальном мониторе появляется экран установки ОС
(рис.\ref{install}), в котором выбираем \verb|Installation|:

% \newpage

\begin{figure}[!ht]
\begin{center}
\includegraphics[width=0.75\textwidth]{installation1.png}
\end{center}
\caption{Указание образа диска в качестве виртуального CD-ROM}\label{install}
\end{figure}

Ждём загрузки графической среды установки, в следующем экране выбираем русский
язык и русскую раскладку клавиатуры, затем часовой пояс Москва, нажимаем
\verb|Далее| и затем выбираем рабочие стол по умолчанию \verb|KDE|
(рис.\ref{ikde}).

\begin{figure}[!ht]
\begin{center}
\includegraphics[width=0.7\textwidth]{installation-kde.png}
\end{center}
\caption{Выбор рабочего стола KDE}\label{ikde}
\end{figure}

Затем устанавливаем имя пользователя, пароли пользователя и администратора
(пользователь root).

На этапе настройки дисковой разметки нужно выбрать автоматическую разметку.
\textbf{Внимание! Автоматическую разметку диска использовать только при
установки на \underline{виртуальную машину}. При установке на
\underline{физический ПК} выбирать автоматическую разметку запрещается, так как
можно повредить данные. Нужно выбрать экспертную разметку и создать корневой
раздел и своп-раздел в конце диска вручную.}

Затем нажимаем \verb|Далее| и запускаем установку ОС. Установка длится от 20
минут до 1 часа в зависимости от быстродействия хостового ПК. По окончании
установки виртуальная машина перезагружается. При следующей загрузке выбираем
пункт \verb|Boot from Hard Disk|. Также порядок загрузки можно настроить в
виртуальном BIOS виртуальной машины. 

Ждём окончания автонастройки системы и заходим в систему с именем и паролем
пользователя, которые мы задали при установки. После загрузке мы попадаем на
рабочий стол KDE. Теперь установленная ОС готова к установке ПО.

\section{Установка комплекта ПО}

\subsection{Подготовка к установке}

За установку ПО в openSUSE отвечает менеджер пакетов \verb|zypper|. Он
автоматически скачивает и устанавливает пакеты из репозиториев. \verb|Zypper|
управляется из консоли. Также можно устанавливать ПО через менеджер управления с
пакетами с графическим интерфейсом через центр управления системой \verb|YaST|.
Мы будем использовать \verb|zypper|.

Чтобы вызвать консоль нажимает кнопку Главного меню в левом нижнем углу экрана
виртуальной машины, затем
\emph{Приложения->Система->Терминал->Терминал(Konsole)} (рис.\ref{kmenu})

\begin{figure}[!ht]
\begin{center}
\includegraphics[width=0.7\textwidth]{kmenu.png}
\end{center}
\caption{Главное меню KDE} \label{kmenu}
\end{figure}


В терминале можно исполнять различные системные команды Linux. Следует отметить
следующие из них:

\begin{itemize}
 \item \verb|mkdir new_folder| --- создаёт в текущем каталоге новый каталог с
названием \verb|new_folder|. Вместо \verb|new_folder| можно задать своё
название.
 \item \verb|cd folder_name| --- переход из текущего каталога в каталог
\verb|folder_name|. 
 \item \verb|cp <что_копировать> <куда_копировать>| --- копирование файла.
 \item \verb|mv <что_перемещать> <куда_перемещать>| --- перемещение файла.
 \item \verb|ls| --- выводит в консоли список файлов в текущем каталоге.
\end{itemize}

Чтобы выполнить команду, после её ввода в терминале Konsole нужно нажать
клавишу Enter.

Обозревать файловую систему можно при помощи консоли или графических файловых
менеджеров Dolfin (Похож на Проводник) или Krusader (аналог TotalCommander)


\subsection{Установка ПО}

Теперь приступаем к установке ПО. Обязательно необходимо соединение с
Интернетом! Открываем терминал и выполняем следующие действия строго по этапам:

\begin{enumerate}
\item Переходим в режим администратора. Для этого служит команда \verb|su|
(super user). В терминале выполняет \verb|su| и вводим пароль администратора,
который мы задали при установке. При вводе пароль не виден, поэтому вводить его
нужно <<вслепую>>. После ввода пароля нажимаем Enter и попадаем в режим
администратора.

\item Подключаем репозиторий с научным и инженерным софтом. Для этого
выполняем команды:

\small
\verb|zypper ar http://download.opensuse.org/repositories/science/openSUSE_13.1/science.repo|
\normalsize
\verb|zypper ref|

\item Устанавливаем Octave и все зависимые пакеты. Выполняем команду:

\verb|zypper in octave octave-forge-audio octave-forge-signal|

Команда автоматически выкачивает все зависимые пакеты и устанавливает их. Объём
установки около 600 Мб и установка занимает около 0.5 часа в зависимости от
скорости соединения с Интернетом. 

\item Устанавливаем Gnuplot:

\verb|zypper in gnuplot|

\item Устанавливаем  Qucs:

\verb|zypper in qucs|

\item Устанавливаем систему контроля версий Git

\verb|zypper in git|

\item Устанавливаем файловый менеджер Krusader

\verb|zypper in krusader|

\item Выходим из режима администратора

\verb|exit|

\end{enumerate}

Теперь комплект ПО установлен и готов к работе.

\section{Выполнение семинаров}

\subsection{Обмен данными с виртуальной машиной при помощи USB флеш-диска}

Виртуальная машина VirtualBox имеет возможность проброса USB-портов из хостовой
системы и может работать с физическим USB устройством, подключенным к хостовому
ПК. Эта функция используется для подключения к VM физического USB-флэш диска и
обмена данными между хостовой и гостевой ОС.

Чтобы подключить флешку к виртуальной машине нужно выбрать нужное устройство в
меню \verb|Устройства->УстройстваUSB| виртуальной машины. 

\begin{figure}[!ht]
\begin{center}
\includegraphics[width=0.8\textwidth]{usbflash-select.png}
\end{center}
\caption{Выбор USB-устройства}
\end{figure}


\subsection{Автоматическое получение методических указаний при помощи системы
контроля версий Git}

\subsection{Работа с Octave и Gnuplot}

 
\end{document}
